"use strict";
function runLoessValidatorTests() {
    const x = [
        1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
    ];
    const x2 = [
        0.0, 1.0526315789473684, 2.1052631578947367, 3.1578947368421053,
        4.2105263157894735, 5.263157894736842, 6.315789473684211, 7.368421052631579,
        8.421052631578947, 9.473684210526315, 10.526315789473683,
        11.578947368421051, 12.631578947368421, 13.68421052631579,
        14.736842105263158, 15.789473684210526, 16.842105263157894,
        17.894736842105264, 18.94736842105263, 20.0,
    ];
    const predictors = [x, x2];
    const y = [
        3.8236908897147006, 5.0747303834465125, 6.355867411176375,
        6.397071283814187, 7.525434024796404, 7.68763992193726, 7.989687054915335,
        8.60134881977805, 9.597267883254144, 10.087387925664325, 9.26158825319585,
        10.227048374025388, 10.03735539202654, 11.5497486362428, 9.978466513812624,
        12.850257489991055, 10.169131742063438, 15.285895620477806,
        11.064395784378636, 10.192523264076709,
    ];
    const w = [
        1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0,
        0.1111111111111111, 0.1111111111111111, 0.1111111111111111,
        0.1111111111111111, 0.1111111111111111, 0.1111111111111111,
        0.1111111111111111, 0.1111111111111111,
    ];
    const data = { x, y, x2, w };
    console.log('Start');
    const model = new Loess(data);
    console.log('About to predict');
    const n = 20;
    const robustWeights = Array(n).fill(MathJs.ones(n));
    console.log(robustWeights);
}
function runLoessValidatorTests1() {
    const data = {
        NOx: [
            1.561, 1.99, 2.118, 3.834, 4.602, 5.199, 4.255, 4.818, 5.064, 5.283, 5.344,
            4.691, 5.055, 4.937, 3.752, 3.965, 3.275, 2.849, 2.286, 1.64, 0.97, 0.537,
        ],
        E: [
            0.665, 0.701, 0.71, 0.767, 0.801, 0.807, 0.825, 0.831, 0.891, 0.902, 0.928,
            0.97, 0.973, 0.98, 0.997, 1.0, 1.021, 1.045, 1.074, 1.089, 1.148, 1.224,
        ],
    };
    const w = data.NOx.map(() => Math.random() * 10);
    const fit = new Loess({ y: data.NOx, x: data.E, w }, { span: 0.8, band: 0.8, degree: 'quadratic' });
    console.log(JSON.stringify(fit.predict(fit.grid([30]))));
}
